<% content_for :title, "Order Details | Dinner Dash" %>

<%= render 'shared/header', text: "Order ##{@order.id} Details" %>

<section class="py-8 px-4 sm:px-6">
  <div class="max-w-6xl mx-auto space-y-1">
    <div class="bg-white border border-gray-200 rounded-xl p-6">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-bold text-gray-900">Order #<%= @order.id %></h3>
        <span
          class="px-3 py-1 rounded-full text-sm font-semibold
          <%= @order.pending? ? 'bg-yellow-100 text-yellow-800' : '' %>
          <%= @order.paid? ? 'bg-green-100 text-green-800' : '' %>
          <%= @order.shipped? ? 'bg-blue-100 text-blue-800' : '' %>
          <%= @order.cancelled? ? 'bg-red-100 text-red-800' : '' %>"
        >
          <%= @order.status.capitalize %>
        </span>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-700">
        <div>
          <p><span class="font-medium">Name:</span> <%= @order.first_name %> <%= @order.last_name %></p>
          <p><span class="font-medium">Email:</span> <%= @order.email %></p>
          <p><span class="font-medium">Phone:</span> <%= @order.phone %></p>
        </div>
        <div>
          <p><span class="font-medium">Address:</span> <%= @order.address %>, <%= @order.city %> - <%= @order.zip %></p>
          <p><span class="font-medium">Payment Method:</span> <%= @order.payment_method.upcase %></p>
          <p><span class="font-medium">Total Amount:</span> $<%= @order.total_amount %></p>
        </div>
      </div>
    </div>

    <div class="bg-white border border-gray-200 rounded-xl p-6 space-y-4">
      <h3 class="text-lg font-bold text-gray-900 mb-4">Order Items</h3>

      <% @order.order_items.each do |oi| %>
        <%= render 'order_item', oi: oi %>
      <% end %>
    </div>
  </div>
</section>
